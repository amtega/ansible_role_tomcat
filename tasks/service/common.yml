---
# Role service tasks

- block:
    - name: disable and stop tomcat
      service:
        name: "{{ tomcat_name }}"
        state: stopped
        enabled: no
      when: tomcat_state == "present"

    - name: enable and start tomcat
      service:
        name: "{{ tomcat_name }}"
        state: started
        enabled: yes
      when: tomcat_state == "started"
  tags:
    - role::tomcat
    - role::tomcat::service
    - role::tomcat::service::common
