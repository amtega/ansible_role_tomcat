{{ ansible_managed | comment }}

{%- set java_variables=tomcat_instance_java_variables %}
{%- set java_options=namespace(strings=[]) %}

{%- for variable in java_variables %}
{%- set java_options.strings=java_options.strings + ["-D" + variable + "=" + java_variables[variable]] %}
{%- endfor %}

{%- set java_options.strings=java_options.strings + tomcat_instance_java_raw_opts %}

JAVA_HOME={{ tomcat_instance_java_home }}
JAVA_OPTS="{{ java_options.strings | join(' ') }}"

{% if not tomcat_instance_use_native_daemon
      or instance.version is version("7", "<") %}
CATALINA_HOME={{ tomcat_instance_home }}
CATALINA_BASE={{ tomcat_instance_base }}
CATALINA_PID={{ tomcat_instance_base }}/{{ tomcat_instance_pid_file }}
{% endif %}
