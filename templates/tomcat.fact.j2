{
{% for instance in tomcat_instances %}
  "{{ instance.name }}":
    {
      "version": "{{ instance.version }}",
      "base": "{{ instance.base | default(tomcat_instance_base) }}",
      "home": "{{ instance.home | default(tomcat_instance_home) }}",
      "user": "{{ instance.user | default(tomcat_instance_user) }}",
      "group": "{{ instance.group | default(tomcat_instance_group) }}",
      "java_home": "{{ instance.java_home | default(tomcat_instance_java_home) }}",
      "java_opts": "{{ instance.java_opts | default(tomcat_instance_java_opts) }}",
      "download_mirror": "{{ instance.download_mirror | default(tomcat_instance_download_mirror) }}",
      "download_path": "{{ instance.download_path | default(tomcat_instance_download_path) }}",
{% if instance.download_url is defined %}
      "download_url": "{{ instance.download_url }}",
{% endif %}
      "server_port": "{{ instance.server_port | default(tomcat_instance_server_port) }}",
      "server_http_port": "{{ instance.server_http_port | default(tomcat_instance_server_http_port) }}",
      "server_https_port": "{{ instance.server_https_port | default(tomcat_instance_server_https_port) }}",
      "server_ajp_port": "{{ instance.server_ajp_port | default(tomcat_instance_server_ajp_port) }}"
    }{% if not loop.last %},{{ "\n" }}{% else %}{{ "\n" }}{% endif %}
{% endfor %}
}
